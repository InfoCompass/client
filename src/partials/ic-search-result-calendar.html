<!-- 
<header class = "bg-0">
	<ic-spinner active = "ic.itemStorage.ready.$$state.status === 0">
	</ic-spinner>	
</header>
 -->

<div 
	ic-scroll-repeat-limit 				= "100"
	ic-scroll-repeat-limit-as 			= "icDaysAhead"
	ic-scroll-repeat-limit-step-size 	= "1"
	ic-scroll-repeat-limit-no-decrease
>
	<div
		class		= "date" 
		ng-repeat	= "date in dates | limitTo: icDaysAhead"
	>
		<h2 >
			{{headingsByDate.get(date) }}
		</h2>
		<div>

			<a
				ng-repeat		= "item in items = itemsByDate.get(date)"
				ng-href			= "{{ {activeItem: item} | icLink }}"
				ic-touch-me
			>
				<ic-item-preview
					ng-class 	= "{'active-item': item == ic.site.activeItem}"
					ic-item 	= "item"
					ng-if		= "!item.internal.failed"
					ic-date		= "date"
				></ic-item-preview>
			</a>

			<ic-item-preview
				ng-if = "items.length == 0"
				class		= "bg-2"
				ic-item 	= "null"
				ic-date		= "date"
			></ic-item-preview> 

			<a 
				ng-if		= "noScroll && !noMoreItems" 
				class 		= "bg-0 padding more tac active" 
				ng-click 	= "icScrollRepeatLimitIncrease()"
				ic-touch-me
			>
				...
			</a>
		</div>
	</div>
</div>
