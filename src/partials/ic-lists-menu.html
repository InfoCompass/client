<h2>{{'INTERFACE.LISTS' | translate}}</h2>

<form
	ng-submit 	= "ic.lists.createList(new_list); new_list = '' "
>
	<input class = "block" type = "text" placeholder = "{{'INTERFACE.CREATE_LIST_PLACEHOLDER' | translate}}" ng-model = "new_list"/>
	<button 
		class 		= "bg-3 padding tac"
		ng-disabled	= "!new_list"
		type 		= "submit"
	> 
		<span class = "icon left icon-interface-lists_add white">{{'INTERFACE.CREATE_LIST' | translate}}</span>
	</button>
</form> 


<ul>

	<li 
		ng-repeat-start	= "list in ic.lists"
		class			= "flex"
		ic-touch-me
		ng-if			= "list.user == ic.user.id"
	>
		<span 
			class 		= "icon icon-interface-checkbox"
			ng-class 	= "{'checked': ic.lists.itemInList(ic.site.activeItem, list.id)}"
			ng-click	= "ic.lists.toggleItemInList(ic.site.activeItem, list.id)"
			ng-show		= "ic.site.activeItem && !confirm"
			ng-title	= "{{ic.lists.itemInList(ic.site.activeItem, list.id) ? 'INTERFACE.REMOVE_ACTIVE_ITEM_FROM_LIST' : 'INTERFACE.ADD_ACTIVE_ITEM_TO_LIST'"
		>
		</span>


		<input 
			type 				= "text"
			class				= "flex-grow"
			ng-show				= "!confirm"
			ng-model			= "list.name"
			ng-change			= "ic.lists.updateName(list.id, list.name)"
			ng-model-options	= "{ updateOn: 'blur change', debounce: {blur:0, change:300} }"
		/>

		<span 
			class 		= "icon icon-interface-public"
			ng-show		= "!confirm"
			ng-class 	= "{'active': list.public}"
			ng-click	= "ic.lists.togglePublicState(list.id, !list.public)"
		>
		</span>

		<span 
			class 		= "icon icon-interface-lists_delete"
			ng-show		= "!confirm"
			ng-click	= "confirm = true" 
		></span>

		<button
			class		= "flex-grow bg-3"
			ng-show		= "confirm"
			ng-click	= "ic.lists.removeList(list.id)"
			title		= "{{'INTERFACE.DELETE_LIST' | translate}}"
		>
			{{'INTERFACE.DELETE_LIST' | translate}}: {{list.name}}
		</button>

		<button
			class		= "icon icon-interface-close flex-grow bg-1 flex-shrink"
			ng-show		= "confirm"
			ng-click	= "confirm = false"
			title		= "{{'INTERFACE.CANCEL' | translate}}"
		>
		</button>


	</li>
	
	<li 
		ng-repeat-end
		ng-show	= "confirm"
		class	= "flex"
	>
	</li>
	
</ul>



