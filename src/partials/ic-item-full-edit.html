<header class = "bg-0">
	<div class = "tools">
		<a 
			class 		= "icon icon-interface-close"
			ng-click 	= "ic.site.activeItem = null" 
		>
		</a>

		<div class = "main">
			<button 
				class 		= "icon round large bg-3 white icon-interface-edit drop-shadow bg-0"
				ng-click 	= "ic.site.editItem = false" 
				ng-if		= "ic.user.can('edit_items')"
				title		= "{{'INTERFACE.CANCEL_EDIT' | translate}}"
			>
			</button>
		</div>
	</div>
	<div 
		class		= "hero" 
		ng-style	= "{'background-image' : 'url('+icItem.image+')'}" 
		ng-if		= "icItem.image"
	></div> 
</header>




<section class = "bg-0 padding">

	<div>		
		<div> <!-- spacer --> </div>
		<h3>{{'INTERFACE.%s_ITEM' | fill: icItem.internal.new ? 'create' : 'edit' | translate}}</h3>
	</div>


	<div><div> <!-- spacer --> </div><hr class  = "bg-2"/></div>




	<!-- title -->

	<article>
		<div> <!-- spacer --> </div>
		<div>
			<h4> {{'ITEMS.TITLE' | translate}}</h4>


			<ic-item-property-edit
				ic-item					= "icItem"
				ic-type 				= "string"
				ic-key					= "title"
			></ic-item-property-edit>
		</div>
	</article>


	<!-- brief -->
	<article>
		<div> <!-- spacer --> </div>
		<div>
			<h4> {{'ITEMS.BRIEF' | translate}} ({{'LANGUAGES.%s' | fill: ic.site.currentLanguage | translate}})</h4>

			<ic-item-property-edit
				ic-item					= "icItem"
				ic-key					= "brief"
				ic-type 				= "string"
				ic-translatable			= "true"
			></ic-item-property-edit>
		</div>
	</article>


	<!-- description -->
	<article>
		<div> <!-- spacer --> </div>
		<div>
			<h4> {{'ITEMS.DESCRIPTION' | translate}} ({{'LANGUAGES.%s' | fill: ic.site.currentLanguage | translate}})</h4>
			
			<ic-item-property-edit
				ic-item					= "icItem"
				ic-key					= "description"
				ic-type 				= "text"
				ic-translatable			= "true"
			></ic-item-property-edit>
		</div>
	</article>



	<!-- image -->
	<article>
		<div> <!-- spacer --> </div>
		<div>
			<h4> {{'ITEMS.IMAGE' | translate}}</h4>

			<ic-item-property-edit
				ic-type 				= "string"
				ic-key					= "image"
				ic-item					= "icItem"
			></ic-item-property-edit>
		</div>
	</article>




	<div><div> <!-- spacer --> </div><hr class  = "bg-2"/></div>

	



	<!-- tags -->
	<article>
		<div> <!-- spacer --> </div>
		<div>
			<h4> {{'ITEMS.TYPE' | translate}}</h4>

			<ic-item-property-edit
				ic-item						= "icItem"
				ic-type						= "array"
				ic-options					= "ic.taxonomy.types | mapToKey : 'name' | preventLoop"
				ic-option-label				= "'TYPES.%s' | fill: option | translate"
				ic-option-icon-class		= "'icon-type-' + option"
				ic-allow-multiple-choices	= "false"
				ic-key						= "tags"
			></ic-item-property-edit>
		</div>
	</article>


	<article>
		<div> <!-- spacer --> </div>
		<div>
			<h4> {{'ITEMS.CATEGORY' | translate}}</h4>

			<ic-item-property-edit
				ic-item						= "icItem"
				ic-type						= "array"
				ic-options					= "ic.taxonomy.categories | mapToKey : 'name' | preventLoop"
				ic-option-label				= "'CATEGORIES.%s' | fill: option | translate"
				ic-option-icon-class		= "'icon-category-' + option"
				ic-allow-multiple-choices	= "false"
				ic-key						= "tags"
			></ic-item-property-edit>
		</div>
	</article>


	<article>
		<div> <!-- spacer --> </div>
		<div>
			<h4> {{'ITEMS.SUBCATEGORIES' | translate}}</h4>

			<ic-item-property-edit
				ic-item						= "icItem"
				ic-type						= "array"
				ic-options					= "ic.taxonomy.getCategory(icEdit.tags).tags"
				ic-option-label				= "'CATEGORIES.%s' | fill: option | translate"
				ic-allow-multiple-choices	= "true"
				ic-key						= "tags"
			></ic-item-property-edit>
		</div>
	</article>


	<div><div> <!-- spacer --> </div><hr class  = "bg-2"/></div>



	<div>
		<div><div class = "icon icon-property-location"></div></div>
		<h4>{{'ITEMS.FULL_ADDRESS' | translate}}</h4>
	</div>


	<!-- location -->
	<article>
		<div> <!-- spacer --> </div>
		<div>
			<h4> {{'ITEMS.LOCATION' | translate}}</h4>

			<ic-item-property-edit
				ic-type 				= "string"
				ic-key					= "location"
				ic-item					= "icItem"
			></ic-item-property-edit>
		</div>
	</article>



	<!-- address -->
	<article>
		<div> <!-- spacer --> </div>
		<div>
			<h4> {{'ITEMS.ADDRESS' | translate}}</h4>

			<ic-item-property-edit
				ic-type 				= "string"
				ic-key					= "address"
				ic-item					= "icItem"
			></ic-item-property-edit>
		</div>
	</article>

	<!-- zip -->
	<article>
		<div> <!-- spacer --> </div>
		<div>
			<h4> {{'ITEMS.ZIP' | translate}}</h4>

			<ic-item-property-edit
				ic-type 				= "string"
				ic-key					= "zip"
				ic-item					= "icItem"
			></ic-item-property-edit>
		</div>
	</article>

	<!-- city -->
	<article>
		<div> <!-- spacer --> </div>
		<div>
			<h4> {{'ITEMS.CITY' | translate}}</h4>

			<ic-item-property-edit
				ic-type 				= "string"
				ic-key					= "city"
				ic-item					= "icItem"
			></ic-item-property-edit>
		</div>
	</article>







	<div><div> <!-- spacer --> </div><hr class  = "bg-2"/></div>


	<!-- e-mail -->
	<article ng-repeat = "key in ['contact', 'email', 'phone', 'website', 'facebook', 'twitter', 'latitude', 'longitude']">
		<div> <div class = "icon icon-property-{{key}}"></div> </div>
		<div>
			<h4> {{'ITEMS.%s' | fill : key | translate}}</h4>

			<ic-item-property-edit
				ic-type 				= "string"
				ic-key					= " {{key}}"
				ic-item					= "icItem"
			></ic-item-property-edit>
		</div>
	</article>



	<!-- state -->

<!-- 	<ic-item-property-edit
		ng-if					= "icUser.can('edit_items')"
		ic-type					= "string"
		ic-options				= "::['draft', 'published', 'suggestion', 'archived']"
		ic-option-label			= "'INTERFACE.ITEM_STATE_%s' | fill : option | translate"
		ic-key					= "state"
		ic-item					= "icItem"
	></ic-item-property-edit> -->



	<!-- Suggestion comment -->

<!-- 	<ic-item-property-edit
		ng-if					= "icUser.can('edit_items') || icUser.can('add_new_items') || icUser.can('suggest_item_edits') || icUser.can('suggest_new_items')"
		ic-type					= "text"
		ic-key					= "comment"
		ic-item					= "icItem"
		ic-ignore-current-value	= "!icUser.can('edit_items')" 
	></ic-item-property-edit> -->


	<article>
		<div> <div class = "icon icon-property-{{key}}"></div> </div>
		<div>
			<button
				class 		= "active border-3 bg-0 padding"
				ng-click 	= "ic.site.editItem = false" 
				ic-touch-me
			>
				{{"INTERFACE.CANCEL_EDIT" | translate}}
			</button>


			<button
				class 		= "bg-3 col-2 padding"
				ng-click 	= "submit()"	 
				ic-touch-me
			>
				{{"INTERFACE.SUBMIT_CHANGES" | translate}}
			</button>
		</div>
	</article>
</section>
