<div 
	class = "tags"
	ng-if = "icFilterConfig.filterBy.topics.length || icFilterConfig.filterBy.targetGroups.length"
>

	<!--TOPICS -->
	<a 	
		ng-repeat = "topic in icFilterConfig.filterBy.topics"
		ng-click  = "icFilterConfig.toggleFilter('topics', topic)" 
	>
		<span class ="icon icon-nav-close"></span>
		{{topic | uppercase | prepend: "TOPICS." |translate}}
	</a>


	<!--TARGET_GROUPS -->
	<a ng-repeat = "targetGroup in icFilterConfig.filterBy.targetGroups"
		ng-click  = "icFilterConfig.toggleFilter('targetGroups', targetGroup)" 
	>
		<span class ="icon icon-nav-close"></span>
		{{targetGroup | uppercase | prepend: "TARGET_GROUPS." |translate}}
	</a>

</div>




<div class = "controls">	
	<button
		class 		= "sort"
		ng-class	= "{'icon-interface-arrow-down': open != 'sort', 'icon-interface-arrow-up': open == 'sort'}"
		ng-click 	= "toggleSortPanel()" 
	>
		{{"INTERFACE.SORT" | translate}}
	</button>

	<button
		class 		= "sort"
		ng-class	= "{'icon-interface-arrow-down': open != 'filter', 'icon-interface-arrow-up': open == 'filter'}"<
		ng-click 	= "toggleFilterPanel()" 
	>
		{{"INTERFACE.FILTER" | translate}}
	</button>
</div>

<div 
	class 	= "panel sort"
	ng-if 	= "open == 'sort'" 
>
	<a 
		ng-class 	= "{active : icSite.params.so == 'a'}"
		class		= "disabled"
	> 
		A-Z
	</a>

	<a 
		ng-class 	= "{active : icSite.params.so == 'n'}"
		class 		= "disabled"
	> 
		Neuste
	</a>

	<a 
		ng-class 	= "{active : icSite.params.so == 'b'}"		
		class 		= "disabled"
	> 
		Am häufigsten gemerkt
	</a>

	<a 
		ng-class 	= "{active : icSite.params.so == 'l'}"
		class 		= "disabled"
	> 
		Nähe zum Standort
	</a>

</div>





<div 
	class 	= "panel filter"
	ng-if	= "open == 'filter'" 
>

	<a 
		ng-class	= "{'icon-interface-arrow-right': !expand.topics, 'icon-interface-arrow-down': expand.topics}" 
		ng-click 	= "expand.topics = !expand.topics"
		ic-touch-me
	>
		{{"INTERFACE.TOPICS" | translate}}
	</a>

	<div ng-if = "expand.topics">
		<a 
			ng-click 	= "icFilterConfig.clearFilter('topics')" 
			ng-class 	= "{'icon-interface-checkbox-selected' : icFilterConfig.matchFilter('topics', undefined), 'icon-interface-checkbox': !icFilterConfig.matchFilter('topics', undefined)}"
			ic-touch-me
		>
			{{"INTERFACE.TOPICS_ALL" | translate}}
		</a>
		<a 
			ng-repeat 	= "topic in icConfigData.topics | orderBy : 'toString()| uppercase | prepend: \'TOPICS.\' |translate'"
			ng-click 	= "icFilterConfig.toggleFilter('topics', topic)" 
			ng-class 	= "{'icon-interface-checkbox-selected' : icFilterConfig.matchFilter('topics', topic), 'icon-interface-checkbox': !icFilterConfig.matchFilter('topics', topic)}"
			ic-touch-me			
		>
			{{topic | uppercase | prepend: "TOPICS." |translate}}
		</a>
	</div>

	<hr/>

	<a 
		ng-class	= "{'icon-interface-arrow-right': !expand.targetGroups, 'icon-interface-arrow-down': expand.targetGroups}" 
		ng-click 	= "expand.targetGroups = !expand.targetGroups"
		ic-touch-me
	>
		{{"INTERFACE.TARGET_GROUPS" | translate}}
	</a>

	<div ng-if = "expand.targetGroups">
		<a 
			ng-click 	= "icFilterConfig.clearFilter('targetGroups')" 
			ng-class 	= "{'icon-interface-checkbox-selected' : icFilterConfig.matchFilter('targetGroups', undefined), 'icon-interface-checkbox': !icFilterConfig.matchFilter('targetGroups', undefined)}"
			ic-touch-me			
		>
			{{"INTERFACE.TARGET_GROUPS_ALL" | translate}}
		</a>
		<a 
			ng-repeat 	= "targetGroup in icConfigData.targetGroups | orderBy : 'toString()| uppercase | prepend: \'TARGET_GROUPS.\' |translate'"
			ng-click 	= "icFilterConfig.toggleFilter('targetGroups', targetGroup)" 
			ng-class 	= "{'icon-interface-checkbox-selected' : icFilterConfig.matchFilter('targetGroups', targetGroup), 'icon-interface-checkbox': !icFilterConfig.matchFilter('targetGroups', targetGroup)}"
			ic-touch-me			
		>
			{{targetGroup | uppercase | prepend: "TARGET_GROUPS." |translate}}
		</a>
	</div>


</div>
